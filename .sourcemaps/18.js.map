{"version":3,"sources":["../../src/pages/visualisations/restitution/restitution.module.ts","../../src/pages/visualisations/restitution/restitution.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RestitutionPage } from './restitution';\nimport { AutoCompleteModule } from 'ionic2-auto-complete';\n\n@NgModule({\n  declarations: [\n    RestitutionPage,\n  ],\n  imports: [\n    AutoCompleteModule, IonicPageModule.forChild(RestitutionPage),\n  ],\n  exports: [RestitutionPage]\n})\nexport class RestitutionPageModule {}\n \n\n\n// WEBPACK FOOTER //\n// ./src/pages/visualisations/restitution/restitution.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, LoadingController } from 'ionic-angular';\nimport { PouchdbProvider } from '../../../providers/pouchdb-provider';\nimport { RestitutionProvider } from '../../../providers/restitution/restitution';\n//import * as vegaTooltip  from 'vega-tooltip';\n//import {vegaLite} from 'vega-tooltip';\nimport embed from 'vega-embed';\n//import 'vega-lite';\n//import 'vega';\n//import 'vega-embed';\n \n/**\n * Generated class for the RestitutionPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n \n@IonicPage()\n@Component({\n  selector: 'page-restitution',\n  templateUrl: 'restitution.html',\n})\nexport class RestitutionPage {\n\n  producteurs: any = [];\n  //testData: any = [];\n  //data:any;\n  //recherche: any = 'FM-';\n  selectedMembre1: any = '';\n  selectedMembre2: any = '';\n  selectedNomMembre1: any = '';\n  selectedNomMembre2: any = '';\n  selectedEntreeMed: any = '';\n  selectedDiff: any = 'PDE';\n  selectedVar: any = 'PDE';\n  selectedMed: any = 'PDE';\n  selectedEntree: any;\n  selectedEntreeMembre: any;\n  vegaData: any = [];\n  medianeData: any = [];\n  nbTotalEssa: any = 0;\n  nbDuexEssaiTotal: any = 0;\n  uniqueMembres: any = [];\n  statistiqueTraitement: any = [];\n  //statistique: boolean = false;\n  allEssais: any = [];\n  traitements: any = [];\n  allOP: any = [];\n  opEssai: any = [];\n  entrees: any = [];\n  membresData: any = [];\n  membre1Data: any = [];\n  membre2Data: any = [];\n  code_union: any;\n  code_op: any;\n  type: any\n  fin:any = [];\n\n  selectedAnne:any = '2017';\n\n  constructor(public navCtrl: NavController, public ServiceAutoCompletion: RestitutionProvider, public modelCtl: ModalController, public navParams: NavParams, public loadtingCtl: LoadingController, public viewCtl: ViewController, public servicePouchdb: PouchdbProvider) {\n    this.type = this.navParams.data.type;\n    if(this.type === 'essai'){\n      this.allEssais = this.navParams.data.essais;\n      this.traitements = this.navParams.data.traitements;\n      this.producteurs = this.navParams.data.producteurs;\n    }/*else if(this.navParams.data.type === 'union'){\n      this.code_union = this.navParams.data.code_union;\n      this.getEssais(this.code_union, this.type, this.selectedAnne);\n      this.getMembres(this.code_union, this.type);\n      this.getTraitements(this.selectedAnne);\n    }else if(this.navParams.data.type === 'op'){\n      this.code_op = this.navParams.data.code_op;\n      this.getEssais(this.code_op, this.type, this.selectedAnne);\n      this.getMembres(this.code_op, this.type);\n      this.getTraitements(this.selectedAnne)\n    }*/\n\n    //alert(this.allEssais.length)\n  }\n\n  getInfo(code, type, annee){\n    //membres\n    let mbr: any = [];\n    this.producteurs = [];\n      this.servicePouchdb.getPlageDocsRapide('fuma:op:membre','fuma:op:membre:\\uffff').then((mbrA) => {\n        \n        this.servicePouchdb.getPlageDocsRapide('koboSubmission_fuma-op-membre','koboSubmission_fuma-op-membre\\uffff').then((mbrK) => {\n          mbr = mbrA.concat(mbrK);\n          mbr.map((m) => {\n            if(m.doc.data.code_union === code && type === 'union'){\n              this.producteurs.push(m);\n            }else if(m.doc.data.op_code === code && type === 'op'){\n              this.producteurs.push(m);\n            }\n          });\n\n          //essais\n          this.allEssais = [];\n          if(type === 'union'){\n            this.servicePouchdb.getPlageDocsRapide('fuma:essai', 'fuma:essai:\\uffff').then((e) => {\n            if(e){\n              e.map((es) => {\n                \n                if(code === es.doc.data.code_union && annee.toString() === es.doc.data.annee_essai.toString() ){\n                  this.allEssais.push(es)\n                }\n              });\n\n              //traitements\n              let trm: any = [];\n              this.traitements = [];\n              this.servicePouchdb.getPlageDocsRapide('fuma:traitement', 'fuma:traitement:\\uffff').then((t) => {\n                  if(t){\n                    t.map((row) => {\n                        if(row.doc.data.annee.toString() === annee.toString() ){\n                            trm.push(row);\n                          }\n                    });\n                    this.traitements = trm;\n                    let p: any = [];\n                    this.producteurs.forEach((prod, index) => {\n                      p.push(prod.doc.data); \n                    });\n\n                    \n                    this.ServiceAutoCompletion.data = p;\n                    if(this.traitements.length){\n                      this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n                    }\n\n                    this.traitements.forEach((t) => {\n                      this.entrees.push(t.doc.data.nom_entree);\n                    })\n                    this.calculStatisitque(this.allEssais, this.traitements, this.producteurs);\n                  }   \n                });  \n              }\n            });\n          }else if(type === 'op'){\n            this.servicePouchdb.getPlageDocsRapide('fuma:essai:FM-'+code, 'fuma:essai:FM-'+code+' \\uffff').then((e) => {\n                e.map((es) => {\n                if(es.doc.data.annee_essai.toString() === annee.toString()){\n                  this.allEssais.push(es)\n                }\n              });\n\n              //traitements\n              let trm: any = [];\n              this.traitements = [];\n              this.servicePouchdb.getPlageDocsRapide('fuma:traitement', 'fuma:traitement:\\uffff').then((t) => {\n                  if(t){\n                    t.map((row) => {\n                        if(row.doc.data.annee.toString() === annee.toString()){\n                            trm.push(row);\n                          }\n                    });\n                    this.traitements = trm;\n                    let p: any = [];\n                    this.producteurs.forEach((prod, index) => {\n                      p.push(prod.doc.data); \n                    });\n\n                    \n                    this.ServiceAutoCompletion.data = p;\n                    if(this.traitements.length){\n                      this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n                      this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n                    }\n\n                    this.traitements.forEach((t) => {\n                      this.entrees.push(t.doc.data.nom_entree);\n                    })\n                    this.calculStatisitque(this.allEssais, this.traitements, this.producteurs);\n                  }   \n                });  \n\n              });\n          }\n        \n\n        }, err => console.log(err));\n\n      }, err => console.log(err));\n  }\n\n  getMembres(code, type){\n    let mbr: any = [];\n    this.producteurs = [];\n      this.servicePouchdb.getPlageDocsRapide('fuma:op:membre','fuma:op:membre:\\uffff').then((mbrA) => {\n        \n        this.servicePouchdb.getPlageDocsRapide('koboSubmission_fuma-op-membre','koboSubmission_fuma-op-membre\\uffff').then((mbrK) => {\n          mbr = mbrA.concat(mbrK);\n          mbr.map((m) => {\n            if(m.doc.data.code_union === code && type === 'union'){\n              this.producteurs.push(m);\n            }else if(m.doc.data.op_code === code && type === 'op'){\n              this.producteurs.push(m);\n            }\n          });\n\n           let p: any = [];\n          this.producteurs.forEach((prod, index) => {\n            p.push(prod.doc.data); \n          });\n\n          \n          this.ServiceAutoCompletion.data = p;\n        }, err => console.log(err));\n\n      }, err => console.log(err)); \n  }\n\n\n  getEssais(code, type, annee){\n    this.allEssais = [];\n    if(type === 'union'){\n      this.servicePouchdb.getPlageDocsRapide('fuma:essai', 'fuma:essai:\\uffff').then((e) => {\n      if(e){\n        e.map((es) => {\n          if(code === es.doc.data.code_union && annee.toString() === es.doc.data.annee_essai.toString()){\n            this.allEssais.push(es)\n          }\n        })\n      }\n    });\n    }else if(type === 'op'){\n       this.servicePouchdb.getPlageDocsRapide('fuma:essai:FM-'+code, 'fuma:essai:FM-'+code+' \\uffff').then((e) => {\n          e.map((es) => {\n          if(es.doc.data.annee_essai.toString() === annee.toString()){\n            this.allEssais.push(es)\n          }\n        })\n        });\n    }\n   \n  }\n\n\n    getTraitements(annee){\n        let trm: any = [];\n        this.traitements = [];\n        this.servicePouchdb.getPlageDocsRapide('fuma:traitement', 'fuma:traitement:\\uffff').then((t) => {\n            if(t){\n              t.map((row) => {\n                  if(row.doc.data.annee.toString() === annee.toString()){\n                      trm.push(row);\n                    }\n              });\n              this.traitements = trm;\n              if(this.traitements.length){\n                this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n                this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n                this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n              }\n\n              this.traitements.forEach((t) => {\n                this.entrees.push(t.doc.data.nom_entree);\n              });\n            }   \n          });  \n    }\n\n\n  ionViewDidEnter() {\n    //console.log('ionViewDidLoad RestitutionPage');\n    /*if(this.type === 'union'){\n      this.code_union = this.navParams.data.code_union;\n      this.getInfo(this.code_union, this.type, this.selectedAnne);\n      \n    }else if(this.type === 'op'){\n      this.code_op = this.navParams.data.code_op;\n      this.getInfo(this.code_op, this.type, this.selectedAnne);\n    }\n    else if(this.type === 'essai'){\n      let p: any = [];\n      this.producteurs.forEach((prod, index) => {\n        p.push(prod.doc.data); \n      });\n\n      \n      this.ServiceAutoCompletion.data = p;\n      if(this.traitements.length){\n        this.selectedEntree = this.traitements[0].doc.data.nom_entree;\n        this.selectedEntreeMembre = this.traitements[0].doc.data.nom_entree;\n        this.selectedEntreeMed = this.traitements[0].doc.data.nom_entree;\n      }\n\n      this.traitements.forEach((t) => {\n        this.entrees.push(t.doc.data.nom_entree);\n      })\n      this.calculStatisitque(this.allEssais, this.traitements, this.producteurs);\n    }\n    */\n  }\n\n\n\n  existeProducteur(matricule){\n    for(let i = 0; i < this.producteurs.length; i++){\n      if(matricule === this.producteurs[i].doc.data.matricule_Membre){\n        return 1;\n      }\n    }\n\n    return 0;\n  }\n\n  preparerDannePourAnnalyse(essai){\n    let essai_data: any = [];\n    essai.forEach((ess) => {\n      essai_data.push(ess.doc.data);\n    });\n\n    return essai_data;\n  }\n\n  visualisation(essais){\n    //let data: any = this.preparerDannePourAnnalyse(essai);\n    //let essai: any = [];\n    let data: any = [];\n    let ess: any = {};\n     var max_PDE = 0;\n     var max_NPR = 0;\n     var max_NPL = 0;\n    /*essais.forEach((item) => {\n      essai.push(item);\n    });*/\n\n    essais.forEach((e) =>{\n       ess = e.doc.data;\n       if(e.doc.data.PDE)\n        {ess.PDE = parseFloat(e.doc.data.PDE);}\n       if(e.doc.data.PDE_controle)\n       {ess.PDE_controle = parseFloat(e.doc.data.PDE_controle);}\n       if(e.doc.data.NPL)\n       {ess.NPL = parseInt(e.doc.data.NPL);}\n       if(e.doc.data.NPL_controle)\n       {ess.NPL_controle = parseInt(e.doc.data.NPL_controle);}\n       if(e.doc.data.NPR)\n       {ess.NPR = parseInt(e.doc.data.NPR);}\n       if(e.doc.data.NPR_controle)\n       {ess.NPR_controle = parseInt(e.doc.data.NPR_controle);}\n\n\n       if(e.doc.data.PDE && e.doc.data.PDE_controle)\n       {\n         ess.diff_PDE = parseFloat(e.doc.data.PDE) - parseFloat(e.doc.data.PDE_controle);\n         ess.diff_PDE = ess.diff_PDE.toFixed(2)\n         if(e.doc.data.PDE >= e.doc.data.PDE_controle){\n          max_PDE = parseInt(e.doc.data.PDE)\n         }else{\n          max_PDE = parseInt(e.doc.data.PDE_controle);\n         }\n      }else if(e.doc.data.PDE && !e.doc.data.PDE_controle){\n        ess.diff_PDE = parseFloat(e.doc.data.PDE).toFixed(2);\n        max_PDE = parseInt(e.doc.data.PDE);\n      }else if(!e.doc.data.PDE && e.doc.data.PDE_controle){\n        ess.diff_PDE = - parseFloat(e.doc.data.PDE_controle).toFixed(2);\n        max_PDE = parseInt(e.doc.data.PDE_controle);\n      }else{\n        ess.diff_PDE = '';\n        max_PDE = 0;\n      }\n\n      if(e.doc.data.NPL && e.doc.data.NPL_controle)\n       {ess.diff_NPL = parseInt(e.doc.data.NPL) - parseInt(e.doc.data.NPL_controle);\n        if(e.doc.data.NPL >= e.doc.data.NPL_controle){\n          max_NPL =  parseInt(e.doc.data.NPL)\n        }else{\n          max_NPL = parseInt(e.doc.data.NPL_controle);\n        }\n      }else if(e.doc.data.NPL && !e.doc.data.NPL_controle || e.doc.data.NPL_controle === ''){\n        ess.diff_NPL = parseInt(e.doc.data.NPL);\n        max_NPL = parseInt(e.doc.data.NPL);\n      }else if(!e.doc.data.NPL || e.doc.data.NPL === '' && e.doc.data.NPL_controle){\n        ess.diff_NPL= - parseInt(e.doc.data.NPL_controle);\n        max_NPL = parseInt(e.doc.data.NPL_controle);\n      }else{\n        ess.diff_NPL = '';\n        max_NPL = 0;\n      }\n\n       if(e.doc.data.NPR && e.doc.data.NPR_controle)\n       {ess.diff_NPR = parseInt(e.doc.data.NPR) - parseInt(e.doc.data.NPR_controle);\n        if(e.doc.data.NPR >= e.doc.data.NPR_controle){\n          max_NPR = parseInt(e.doc.data.NPR)\n        }else{\n          max_NPR = parseInt(e.doc.data.NPR_controle);\n        }\n      }else if(e.doc.data.NPR && !e.doc.data.NPR_controle){\n        ess.diff_NPR = parseInt(e.doc.data.NPR);\n        max_NPR = parseInt(e.doc.data.NPR);\n      }else if(!e.doc.data.NPR && e.doc.data.NPR_controle){\n        ess.diff_NPR= - parseInt(e.doc.data.NPR_controle);\n        max_NPR = parseInt(e.doc.data.NPR_controle);\n      }else{\n        ess.diff_NPR = '';\n        max_NPR = 0;\n      }\n\n  \n    \n      //ess.PDE >= ess.PDE_controle ? max_PDE = ess.PDE: max_PDE = ess.PDE_controle;\n      if(max_PDE % 5 === 0){\n        ess.mediane_PDE = max_PDE\n      }else if((max_PDE +1) % 5 === 0){\n        ess.mediane_PDE = max_PDE +1;\n      }else if((max_PDE +2) % 5 === 0){\n        ess.mediane_PDE = max_PDE +2;\n      }else if((max_PDE +3) % 5 === 0){\n        ess.mediane_PDE = max_PDE +3;\n      }else if((max_PDE +4) % 5 === 0){\n        ess.mediane_PDE = max_PDE +4;\n      }else{\n        ess.mediane_PDE = 0;\n      }\n      \n\n      \n      //ess.NPR >= ess.NPR_controle ? max_NPR = ess.NPR: max_NPR = ess.NPR_controle;\n      if(max_NPR % 5 === 0){\n        ess.mediane_NPR = max_NPR\n      }else  if((max_NPR +1) % 5 === 0){\n        ess.mediane_NPR = max_NPR +1;\n      }else  if((max_NPR +2) % 5 === 0){\n        ess.mediane_NPR = max_NPR +2;\n      }else  if((max_NPR +3) % 5 === 0){\n        ess.mediane_NPR = max_NPR +3;\n      }else  if((max_NPR +4) % 5 === 0){\n        ess.mediane_NPR = max_NPR +4;\n      }else{\n        ess.mediane_NPR = 0;\n      }\n      \n      \n      //ess.NPL >= ess.NPL_controle ? max_NPL = ess.NPL: max_NPL = ess.NPL_controle;\n      if(max_NPL % 5 === 0){\n        ess.mediane_NPL = max_NPL\n      }else if((max_NPL +1 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +1;\n      }else if((max_NPL +2 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +2;\n      }else if((max_NPL +3 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +3;\n      }else if((max_NPL +4 ) % 5 === 0){\n        ess.mediane_NPL = max_NPL +4;\n      }else{\n        ess.mediane_NPL = 0;\n      }\n\n      \n\n      /*if(ess.PDE === ess.PDE_controle){\n        ess.mediane_PDE = ess.PDE;\n      }\n      if(ess.NPL === ess.NPL_controle){\n        ess.mediane_NPL = ess.NPL;\n      }\n      if(ess.NPR === ess.NPR_controle){\n        ess.mediane_NPR = ess.NPR;\n      }*/\n\n       //ess.diff_NPL = parseInt(e.doc.data.NPL) - parseInt(e.doc.data.NPL_controle);\n       //ess.diff_NPR = parseInt(e.doc.data.NPR) - parseInt(e.doc.data.NPR_controle);\n\n      data.push(ess);\n      ess = {};\n    });\n\n    this.vegaData = data;\n\n    //this.visualiserTouts(data, this.selectedVar);\n    this.visualiserDifferenceEssaiControle(data, this.selectedDiff, this.selectedEntree, this.selectedMembre1, this.selectedNomMembre2);\n    this.visualiserMediane(data, this.selectedMed, this.selectedEntreeMed, this.selectedMembre1, this.selectedMembre2);\n   \n\n  }\n\n  visualiserTouts(data, selectedVar){\n\n    let variable:any;\n\n   if(selectedVar === 'NPL controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'NPR controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'PDE controle'){\n      variable = 'PDE_controle'\n    }else {\n      variable = selectedVar\n    }\n\n     var vlSpec = {\n    \"data\": {\n      \"values\": data\n    }\n    ,\n    \"mark\": \"point\",\n    \"encoding\": {\n     \"x\": { \"field\": \"matricule_producteur\", \"type\": \"nominal\" },\n     \"y\": { \"field\": variable, \"type\": \"quantitative\" },\n     \"color\": { \"field\": \"nom_entree\", \"type\": \"nominal\" },\n     //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n    }\n  };\n\n/*var embedSpec = {\n  mode: \"vega-lite\",\n  spec: vlSpec\n}\n\nvar opt = {\n  'mode': 'vega'\n\n}*/\n\n\n\n   /* embed('#visMembre1', vlSpec, { mode: \"vega-lite\"}).then(function(result){\n      // access view as result.view\n    }).catch(console.error);\n\n     embed('#visMembre2', vlSpec, { mode: \"vega-lite\"}).then(function(result){\n      // access view as result.view\n    }).catch(console.error);*/\n  }\n\n\n\n  visualiserMembresEssais(viewData, selectedVar, selectedEntreeMembre){\n\n    /*let variable:any;\n\n   if(selectedVar === 'NPL controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'NPR controle'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'PDE controle'){\n      variable = 'PDE_controle'\n    }else {\n      variable = selectedVar\n    }*/\n\n    let data: any = [];\n      viewData.forEach((d) => {\n    if(d.nom_entree === selectedEntreeMembre){\n      data.push(d);\n    }\n  });\n\n  var vlSpec = {\n    \"data\": {\n      \"values\": data\n    }\n    ,\n    \"mark\": \"bar\",\n    \"encoding\": {\n    //\"column\": {\"field\": \"nom_producteur\", \"type\": \"nominal\"},\n     \"x\": { \"field\": \"matricule_producteur\", \"type\": \"nominal\" },\n     \"y\": { \"field\": selectedVar, \"type\": \"quantitative\",\n        \"axis\": {                // Axis\n          \"tickCount\":  5\n        }\n      },\n     \"color\": { \"field\": \"nom_producteur\", \"type\": \"nominal\" },\n     //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n    }\n  };\n\n  //var node = 'vega-lite';\n /* var opt = {\n    mode: node,\n    actions: false\n  }*/\n\n/*\n    embed('#visEssai', vlSpec, { mode: \"vega-lite\"}).then(function (result){\n      // access view as result.view\n       vegaLite(result.view, result.spec)\n    }).catch(console.error);\n*/\n    \n  }\n\n\n  visualiserMembresControle(viewData, selectedVar, selectedEntreeMembre){\n\n    let variable:any;\n\n   if(selectedVar === 'NPL'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'NPR'){\n      variable = 'NPL_controle'\n    }else if(selectedVar === 'PDE'){\n      variable = 'PDE_controle'\n    }\n\n    let data: any = [];\n      viewData.forEach((d) => {\n    if(d.nom_entree === selectedEntreeMembre){\n      data.push(d);\n    }\n  });\n\n     var vlSpec = {\n    //\"title\": \"Comparaison \"+selectedVar+ \" controle\",\n    \"data\": {\n      \"values\": data\n    }\n    ,\n    \"mark\": \"bar\",\n    \"encoding\": {\n     \"x\": { \"field\": \"matricule_producteur\", \"type\": \"nominal\" },\n     \"y\": { \"field\": variable, \"type\": \"quantitative\",\n      \"axis\": {                // Axis\n        \"tickCount\":  5\n      }\n    },\n     \"color\": { \"field\": \"nom_producteur\", \"type\": \"nominal\" },\n     //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n    }\n  };\n\n/*\n    embed('#visControle', vlSpec, { mode: \"vega-lite\"}).then(function(result){\n      // access view as result.view\n    }).catch(console.error);*/\n  }\n\n\n   visualiserDifferenceEssaiControle(viewData, selectedDiff, selectedEntree, membre1, membre2){\n     //this.loading = true;\n     let diff: string;\n     let data: any = [];\n\n     viewData.forEach((d) => {\n       if(d.nom_entree === selectedEntree){\n         data.push(d);\n       }\n     });\n\n     if(selectedDiff === 'NPL'){\n        diff = \"diff_NPL\";\n        /*let v: any;\n        for(let i = 0; i < data.length -1; i++){\n          v = data[i];\n          for(let j = i; j < data.length; j++){\n            if(v.diff_NPL > data[j].diff_NPL){\n              data[i] = data[j];\n              data[j] = v;\n              v = data[i];\n            }\n          }\n        }*/\n      /* data.sort((a, b) => {\n            if ( a.diff_NPL < b.diff_NPL ){\n              return -1;\n            }\n            if ( a.diff_NPL > b.diff_NPL ){\n              return 1;\n            }else{\n              return 0;\n            }\n        });*/\n\n     }else if(selectedDiff === 'NPR'){\n        diff = \"diff_NPR\"; \n       /* data.sort((a, b) => {\n            if ( a.diff_NPR < b.diff_NPR )\n                {return -1;}\n            if ( a.diff_NPR > b.diff_NPR )\n                {return 1;}\n            else\n            {return 0;}\n        });*/\n     }else{\n       diff = \"diff_PDE\";\n       /*data.sort((a, b) =>{\n            if ( a.diff_PDE < b.diff_PDE )\n                {return -1;}\n            if ( a.diff_PDE > b.diff_PDE )\n                {return 1;}\n            else\n            {return 0;}\n        });*/\n     }\n\n\n\n     \n\n     var vlSpec = {\n      \"data\": {\n        \"values\": data\n      },\n      \"layer\":[\n        {    \n          \"mark\": \"bar\",\n          \"encoding\": {\n            \"y\": { \"field\": diff, \"type\": \"quantitative\"},\n            \"x\": { \"field\": diff, \"type\": \"nominal\"},\n            //\"tooltip\": {\"field\": \"matricule_producteur\", \"type\": \"nominal\"} // pour aficher le hover, option avancee avec l'utilisation du plugin npm install vega-tooltip\n            //\"color\": { \"field\": \"sex_producteur\", \"type\": \"nominal\",\n           // \"scale\": {\"range\": [\"purple\", \"#ff0000\"]}\n            //},\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n          }\n        },\n       {\n           \"transform\": [\n            {\"filter\": {\"field\": \"matricule_producteur\", \"oneOf\":[membre1, membre2]}}\n           ],    \n          \"mark\": \"bar\",\n          \"encoding\": {\n            \"y\": { \"field\": diff, \"type\": \"quantitative\"},\n            \"x\": { \"field\": diff, \"type\": \"nominal\"},\n            \"color\": { \"field\": \"matricule_producteur\",\n            \"scale\": {\"range\": [\"purple\", \"#ff0000\"]},\n            \"axis\": {\"title\":\"Matricule producteurs à comparer\"}\n          },\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n          }\n\n        }\n      ] \n    };\n\n    /*var embedSpec = {\n      mode: \"vega-lite\",\n      spec: vlSpec\n    }\n\n    var opt = {\n    }*/\n    /*\n    embed('#visDiff', vlSpec, { mode: \"vega-lite\"}).then(function(result) {\n      // access view as result.view\n      //vegaLite.vega(result.view);\n      // vegaLite(result.view, vlSpec)\n    }).catch(console.error);*/\n    //this.loading = false\n    //vegaLite('#visDiff', vlSpec)\n  }\n\n  ordonner(data){\n    let v: any;\n      for(let i = 0; i < data.length -1; i++){\n        v = data[i];\n        for(let j = i; j < data.length; j++){\n          if(v.diff_NPL > data[j].diff_NPL){\n            data[i] = data[j];\n            data[j] = v;\n            v = data[i];\n          }\n        }\n      }\n\n      return data;\n  }\n\n\n   visualiserMediane(viewData, selectedMed, selectedEntreeMed, membre1, membre2){\n\n    let variable:any;\n    let med: any;\n    let data: any = [];\n\n     viewData.forEach((d) => {\n       if(d.nom_entree === selectedEntreeMed){\n         data.push(d);\n       }\n     });\n\n    if(selectedMed === 'NPL'){\n        variable = 'NPL_controle';\n        med = 'mediane_NPL';\n      }else if(selectedMed === 'NPR'){\n        variable = 'NPR_controle';\n        med = 'mediane_NPR';\n      }else if(selectedMed === 'PDE'){\n        variable = 'PDE_controle';\n        med = 'mediane_PDE';\n      }\n\n     var vlSpec = {\n    \"data\": {\n      \"values\": data\n    },\n    \"layer\": [\n      {\n        \"mark\": \"point\",\n        \"encoding\": {\n          \"x\": {\n            \"field\": variable,\n            \"type\": \"quantitative\"\n          },\n          \"y\": {\n            \"field\": selectedMed,\n            \"type\": \"quantitative\"\n          },\n         \"color\": { \"field\": \"sex_producteur\", 'type': \"nominal\" },\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n        }\n      },\n        /*{\n           \"transform\": [\n            {\"filter\": {\"field\": \"matricule_producteur\", \"oneOf\":[membre1, membre1]}}\n           ],    \n          \"mark\": \"point\",\n          \"encoding\": {\n            \"y\": { \"field\": variable, \"type\": \"quantitative\"},\n            \"x\": { \"field\": selectedMed, \"type\": \"quantitative\"},\n            \"color\": { \"field\": \"matricule_producteur\",\n            \"scale\": {\"range\": [\"purple\", \"#ff0000\"]}\n          },\n          //\"shape\": { \"field\": \"type_sole\", \"type\": \"nominal\" }\n          }\n\n        },*/\n      {\n      \"mark\": \"line\",\n      \"encoding\": {\n        \"x\": {\n          \"field\": med,\n          \"type\": \"quantitative\",\n          \"color\": {\"value\": \"firebrick\"},\n          //\"axis\": {\"title\":\"\"}\n\n        },\n        \"y\": {\n          \"field\": med,\n          \"type\": \"quantitative\",\n          \"axis\": {\n            //\"title\":\"\",\n            \"grid\": false\n          },\n          //\"scale\": {\"zero\": false}\n        },\n        \"color\": {\"value\": \"firebrick\"}\n      }\n    }\n    ],\n  \"resolve\": {\"scale\": {\"y\": \"independent\"}} \n  };\n\n    /*var embedSpec = {\n      mode: \"vega-lite\",\n      spec: vlSpec\n    }\n\n    var opt = {\n    }*/\n/*\n    embed('#visMediane', vlSpec, { mode: \"vega-lite\"}).then(function(result) {\n      // access view as result.view\n    }).catch(console.error);*/\n  }\n\n  calculStatisitque(essais, traitements, producteurs){\n    this.calculerMembreAyantFaitUnEssai(essais, producteurs);\n    this.calculerNombreEssaiParTraitement(essais, traitements);\n    this.visualisation(essais);\n  }\n\n\n    calculerMembreAyantFaitUnEssai(ess, prod){\n    let temp: any = 0\n    let membreNbEssais: any = {}\n    this.uniqueMembres = [];\n    let d: any = [];\n    let md:any = [];\n    \n\n    ess.forEach((item) => {\n      d.push(item);\n    });\n//let d: any = [];\n    //d = this.allEssais;\n    //var uniqueField='';\n    //md = d;\n    for(let i = 0; i < prod.length ; i++){\n      temp = 0;\n      for(let j=0; j < d.length; j++){\n        if(prod[i].doc.data.matricule_Membre === d[j].doc.data.matricule_producteur){/// nombre de producteur s ayant conduit deux essai\n          temp++;\n          md.push(d[j])\n          //md.splice(j, 1);\n        }\n        //temp.push(data[i]);\n      }\n\n      /*******************************************************************\n       * \n       * A faire: Nombre toutalde producteur ayant conduit des essai, commparer les essai au producteur\n       * \n       */\n      if(temp > 0){\n        membreNbEssais.matricule_Membre = prod[i].doc.data.matricule_Membre;\n        membreNbEssais.nom_Membre = prod[i].doc.data.matricule_Membre;\n        membreNbEssais.code_op = prod[i].doc.data.matricule_Membre.toString().substr(prod[i].doc.data.matricule_Membre.toString().indexOf('-') +1, prod[i].doc.data.matricule_Membre.toString().indexOf(' ') -3)\n        membreNbEssais.nb_Essai = temp;\n        //alert(temp)\n        this.uniqueMembres.push(membreNbEssais);\n        membreNbEssais = {};\n        temp = 0;\n      }\n\n      md.forEach((m) => {\n        d.splice(d.indexOf(m), 1);\n      })\n\n      md = [];\n      this.fin = d;\n    }\n\n    //alert(fin.length)\n    let nbEssaiTotal = 0;\n    let nbDuexEssaiTotal = 0;\n    this.uniqueMembres.forEach((item) => {\n      if(item.nb_Essai === 2){\n        nbDuexEssaiTotal++;\n      }\n      nbEssaiTotal += item.nb_Essai;\n      \n    });\n\n    this.nbTotalEssa = nbEssaiTotal;\n    this.nbDuexEssaiTotal = nbDuexEssaiTotal;\n    //this.statistique = true;\n    \n\n\n    if(this.allOP.length > 0){\n      this.calculerOPAyantParticipeAuxEssai(this.uniqueMembres, this.allOP)\n    }else{\n      this.servicePouchdb.getPlageDocsRapide('fuma:op:','fuma:op:\\uffff').then((ops) => {\n        if(ops){\n          //opss = ops;\n          this.allOP = [];\n          ops.forEach((o, index) => {\n            if(!o.doc.data.op/* || o.data.op !== ''*/){\n              if(this.type === 'union' && o.doc.data.code_union === this.code_union){\n                this.allOP.push(o)\n              }else if(this.type === 'op' && o.doc.data.code_OP === this.code_op){\n                this.allOP.push(o)\n              }else if(this.type === 'essai'){\n                this.allOP.push(o)\n              }\n              \n            }\n          });\n\n          this.calculerOPAyantParticipeAuxEssai(this.uniqueMembres, this.allOP)\n        }\n      });\n    }\n\n    //this.uniqueMembres;\n  }\n\n  calculerOPAyantParticipeAuxEssai(mbr, op){\n    let temp: any = 0\n    let opEssai: any = {}\n    this.opEssai = [];\n    let membres: any = [];\n\n    if(mbr.length > 0){\n      mbr.forEach((item) => {\n        membres.push(item);\n      });\n      \n      //let uniqueOp\n      \n\n      for(let i = 0; i < op.length; i++){\n        temp = 0;\n        for(let j=0; j< membres.length; j++){\n          if(op[i].doc.data.code_OP === membres[j].code_op){\n            temp++;\n            membres.splice(j, 1);\n          }\n          //temp.push(data[i]);\n        }\n\n        if(temp > 0){\n          opEssai.nom_op = op[i].doc.data.nom_OP\n          opEssai.code_op = op[i].doc.data.code_OP\n          opEssai.nb_Membre = temp;\n          this.opEssai.push(opEssai);\n          opEssai = {};\n        }\n        \n      }\n    }\n    \n    //return membreNbEssais;\n  }\n\n\n  calculerNombreEssaiParTraitement(essai, traitement){\n    let tr: any = [];\n    let t: any = {};\n    traitement.forEach((item) => {\n      t.nom_entree = item.doc.data.nom_entree;\n      t.value = 0;\n      tr.push(t);\n      t = {};\n    });\n\n    essai.map((es) => {\n      for(let i =0; i <tr.length; i++){\n        if(es.doc.data.nom_entree === tr[i].nom_entree){\n          tr[i].value++;\n          break;\n        }\n      }\n    });\n\n    this.statistiqueTraitement = tr;\n  }\n\n\n  dismiss(){\n    this.viewCtl.dismiss();\n  }\n\n\n  selectMembre1(ev: any){\n    //alert(ev.code_produit);\n    if(ev.matricule_Membre && ev.matricule_Membre != ''){\n      this.membre1Data = [];\n      //this.\n      this.selectedMembre1 = ev.matricule_Membre;\n      this.vegaData.map((ess) => {\n        if(ess.matricule_producteur === this.selectedMembre1){\n          this.membre1Data.push(ess);\n        }\n      });\n\n      if(!this.membre1Data.length){\n        alert('Le membre n\\'a pas éffectuer des essais');\n      }else{\n        let E: any = this.membre1Data;\n        E = E.concat(this.membre2Data);\n        this.membresData = E;\n        this.visualiserMembresEssais(this.membresData, this.selectedVar, this.selectedEntreeMembre)\n        this.visualiserMembresControle(this.membresData, this.selectedVar, this.selectedEntreeMembre);\n        this.visualiserDifferenceEssaiControle(this.vegaData, this.selectedDiff, this.selectedEntree, this.selectedMembre1, this.selectedMembre2)\n        this.visualiserMediane(this.vegaData, this.selectedMed, this.selectedEntreeMed, this.selectedMembre1, this.selectedMembre2);\n   \n      }\n    } \n  }\n\n  selectMembre2(ev: any){\n    //alert(ev.code_produit);\n    if(ev.matricule_Membre && ev.matricule_Membre != ''){\n      this.membre2Data = [];\n      this.selectedMembre2 = ev.matricule_Membre;\n\n      this.vegaData.map((ess) => {\n        if(ess.matricule_producteur === this.selectedMembre2){\n          this.membre2Data.push(ess);\n        }\n      });\n\n      if(!this.membre2Data.length){\n        alert('Le membre n\\'a pas éffectuer des essais');\n      }else{\n        let E: any = this.membre1Data;\n        E = E.concat(this.membre2Data);\n        this.membresData = E;\n        this.visualiserMembresEssais(this.membresData, this.selectedVar, this.selectedEntreeMembre);\n        this.visualiserMembresControle(this.membresData, this.selectedVar, this.selectedEntreeMembre);\n        this.visualiserDifferenceEssaiControle(this.vegaData, this.selectedDiff, this.selectedEntree, this.selectedMembre1, this.selectedMembre2)\n        this.visualiserMediane(this.vegaData, this.selectedMed, this.selectedEntreeMed, this.selectedMembre1, this.selectedMembre2);\n   \n      }\n    } \n  }\n\n  changerVar(membresData, selectedVar, selectedEntreeMembre){\n    this.visualiserMembresEssais(membresData, selectedVar, selectedEntreeMembre);\n    this.visualiserMembresControle(membresData, selectedVar, selectedEntreeMembre);\n  }\n\n  changerEntree(membresData, selectedVar, selectedEntreeMembre){\n    this.visualiserMembresEssais(membresData, selectedVar, selectedEntreeMembre);\n    this.visualiserMembresControle(membresData, selectedVar, selectedEntreeMembre);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/visualisations/restitution/restitution.ts"],"sourceRoot":""}